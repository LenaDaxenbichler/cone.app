<tal:layout xmlns:tal="http://xml.zope.org/namespaces/tal"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns:ajax="http://namespaces.conestack.org/ajax"
            omit-tag="True">

  <div id="layout"
       ajax:action="layout:#layout:replace"
       ajax:bind="contextchanged"
       tal:define="config context.config">

    <div id="topnav">

      <div id="cone-logo">
        <tal:logo replace="structure tile('logo')" />
      </div>


      <div id="topnav-content">
        <tal:mainmenu
          condition="config.mainmenu"
          replace="structure tile('mainmenu')" />
  
        <tal:livesearch
             condition="config.livesearch"
             replace="structure tile('livesearch')" />
        <tal:personaltools condition="config.personaltools"
             replace="structure tile('personaltools')" />
      </div>   

        <tal:toolbar_top condition="True"
                         replace="structure tile('toolbar_top')" />
      
      <div id="mobile-menu-toggle">
        <i class="bi bi-list"></i>
      </div>

    </div>

    <div id="wrapper">

      <div id="sidebar_left"
           tal:condition="config.sidebar_left">
        <div id="sidebar_content">
          <tal:tiles repeat="tilename config.sidebar_left">
            <tal:tile replace="structure tile(tilename)" />
          </tal:tiles>
        </div>
        <div id="sidebar_footer">
          <div id="toggle-fluid">
            <i class="bi bi-lock-fill"></i> 
            <span>Lock state</span>
          </div>
          <div id="sidebar-toggle-btn">
            <i class="bi bi-arrow-left-circle"></i>
          </div>
        </div>
      </div>

      <div id="page-content-wrapper">
        <div id="page-content">
          <row tal:condition="config.pathbar">
            <tal:pathbar replace="structure tile('pathbar')" />
          </row>

          <div id="content" style="height:200rem"
               ajax:bind="contextchanged"
               ajax:action="content:#content:inner">
            <tal:content replace="structure tile(context.contenttile)" />
          </div>

          <tal:footer replace="structure tile('footer')" />
        </div>
      </div>
    </div>
  </div>

</tal:layout>
