<tal:mainmenu xmlns:tal="http://xml.zope.org/namespaces/tal"
              xmlns:ajax="http://namesspaces.bluedynamics.eu/ajax"
              omit-tag="True">


    <ul id="mainmenu"
        class="navbar-nav list-unstyled"
        ajax:bind="contextchanged"
        ajax:action="mainmenu:#mainmenu:replace"
        tal:define="config context.config">
      
      <tal:item repeat="item context.menuitems">
  
        <tal:comment replace="None">Main menu item as link</tal:comment>
        <li tal:condition="not item['children']"
            tal:define="css item['selected'] and 'active' or '';
                        css css + 'mainmenu-item nav-item topnav-element dropdown-submenu dropout-relative ';
                        css ' '.join([css, 'node-%s' % item['id']]);"
            tal:attributes="class css">

          <div class="dropdown">

            <a href="${item['url']}"
               class="nav-link"
               data-hover="dropdown"
               title="${item['description']}"
               ajax:bind="click"
               ajax:target="${item['target']}"
               ajax:event="contextchanged:#layout"
               ajax:path="href"
              >
              <i class="${item['icon']|nothing}"></i>
              <span tal:content="item['title'] | string:'&nbsp;'"
                    class="mainmenu-title">Title
              </span>
            </a>
    
            <div class="dropdown-menu dropdown-menu-start dropdown-menu-custom dropdown-content"
                 id="submenu-${item['id']}">
    
              <ul class="mainmenu-dropdown list-unstyled">
                <li>
                  <span tal:content="item['title'] | string:'&nbsp;'">
                    Title
                  </span>
                </li>
              </ul>
  
            </div>
          </div>
  
        </li>
  
        <tal:comment replace="None">Main menu item as dropdown</tal:comment>
        <li tal:condition="item['children']"
            tal:define="css item['selected'] and 'active ' or '';
                        css css + 'me-1 nav-item topnav-element dropdown-submenu dropout-relative';
                        css ' '.join([css, 'node-%s' % item['id']]);"
            tal:attributes="class css"
            >

            <a href="${item['url']}"
               class="nav-link"
              >
              <i class="${item['icon']|nothing}"></i>
              <span tal:content="item['title'] | string:'&nbsp;'"
                    class="mainmenu-title">Title
              </span>
            </a>

            <a class=" dropdown-arrow"
               href="#submenu-${item['id']}">
              <i class="bi bi-chevron-down"></i>
            </a>
    
            <div class="dropdown-menu-custom dropdown-content"
                 id="submenu-${item['id']}">
    
              <ul class="mainmenu-dropdown list-unstyled">
                <li class="dropdown-title">
                  <span tal:content="item['title'] | string:'&nbsp;'">
                    Title
                  </span>
                </li>
                <tal:li repeat="child item['children']">
                  <li tal:define="css child['selected'] and 'active' or '';"
                      tal:attributes="class css">
                    <a href="${child['url']}"
                       title="${child['description']}"
                       ajax:bind="click"
                       ajax:target="${child['target']}"
                       ajax:event="contextchanged:#layout"
                       ajax:path="href"
                      ><i class="${child['icon']|nothing}"></i>
                      <span tal:content="child['title'] | string:'&nbsp;'">Title</span></a>
                  </li>
                </tal:li>
              </ul>
  
            </div>


        </li>
  
      </tal:item>

    </ul>


</tal:mainmenu>
