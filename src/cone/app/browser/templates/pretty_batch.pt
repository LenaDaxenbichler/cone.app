<tal:ajax xmlns:tal="http://xml.zope.org/namespaces/tal"
          xmlns:ajax="http://namesspaces.bluedynamics.eu/ajax"
          omit-tag="True">

  <div tal:condition="context.display"
       class="pretty_batch">
     
    <span tal:define="firstpage context.firstpage"
          tal:condition="firstpage"
          tal:omit-tag="True">
      <a href="#"
         ajax:bind="click"
         ajax:target="${firstpage['url']}"
         ajax:event="batchclicked:.${context.name}sensitiv"
         tal:define="invisible not firstpage['visible'] or firstpage['current'];
                     css 'ui-corner-tl ui-corner-bl ui-state-default';
                     css invisible and css + ' invisible' or css"
         tal:attributes="href firstpage['url'];
                         class css"
        >First</a>
    </span>
  
    <span tal:define="prevpage context.prevpage"
          tal:condition="prevpage"
          tal:omit-tag="True">
      <a href="#"
         ajax:bind="click"
         ajax:target="${prevpage['url']}"
         ajax:event="batchclicked:.${context.name}sensitiv"
         tal:define="invisible not prevpage['visible'] or prevpage['current'];
                     css 'ui-state-default';
                     css invisible and css + ' invisible' or css"
         tal:attributes="href prevpage['url'];
                         class css"
        >Previous</a>
    </span>
  
    <span tal:content="context.leftellipsis"
          class="leftellipsis" />
    
    <span>
    
      <tal:pages repeat="page context.pages">
        <a href="#"
           ajax:bind="click"
           ajax:target="${page['url']}"
           ajax:event="batchclicked:.${context.name}sensitiv"
           tal:define="invisible not page['visible'];
                       current page['current'];
                       css 'ui-state-default';
                       css invisible and css + ' invisible' or css;
                       css current and css + ' current' or css"
           tal:attributes="href page['url'];
                           class css"
           tal:content="page['page']">X</a>
      </tal:pages>
    
    </span>
  
    <span tal:content="context.rightellipsis"
          class="rightellipsis" />
  
    <span tal:define="nextpage context.nextpage"
          tal:condition="nextpage"
          tal:omit-tag="True">
      <a href="#"
         ajax:bind="click"
         ajax:target="${nextpage['url']}"
         ajax:event="batchclicked:.${context.name}sensitiv"
         tal:define="invisible not nextpage['visible'] or nextpage['current'];
                     css 'ui-state-default';
                     css invisible and css + ' invisible' or css"
         tal:attributes="href nextpage['url'];
                         class css"
        >Next</a>
    </span>
  
    <span tal:define="lastpage context.lastpage"
          tal:condition="lastpage"
          tal:omit-tag="True">
      <a href="#"
         ajax:bind="click"
         ajax:target="${lastpage['url']}"
         ajax:event="batchclicked:.${context.name}sensitiv"
         tal:define="invisible not lastpage['visible'] or lastpage['current'];
                     css 'ui-corner-tr ui-corner-br ui-state-default';
                     css invisible and css + ' invisible' or css"
         tal:attributes="href lastpage['url'];
                         class css"
        >Last</a>
    </span>
  
  </div>

</tal:ajax>